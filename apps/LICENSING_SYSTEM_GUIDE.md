# ðŸ’³ Ø¯Ù„ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ±Ø®ÙŠØµ ÙˆØ§Ù„ØªÙƒØ§Ù„ÙŠÙ - Licensing & Cost System Guide

## **Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ - Saudi Store**
### **Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ ÙˆØ§Ù„ØªÙƒØ§Ù„ÙŠÙ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ù…Ø§Ù„ÙƒÙŠÙ†**

---

## **ðŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© - Overview**

Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© ØªØ±Ø§Ø®ÙŠØµ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ ØªØªØ¨Ø¹ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙØŒ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„ÙƒÙŠÙ†ØŒ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª.

---

## **ðŸŽ¯ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©**

### **âœ… 4 Ø£Ù†ÙˆØ§Ø¹ ØªØ±Ø§Ø®ÙŠØµ:**
1. **Basic License** - ØªØ±Ø®ÙŠØµ Ø£Ø³Ø§Ø³ÙŠ (99 Ø±ÙŠØ§Ù„/Ø´Ù‡Ø±)
2. **Professional License** - ØªØ±Ø®ÙŠØµ Ø§Ø­ØªØ±Ø§ÙÙŠ (299 Ø±ÙŠØ§Ù„/Ø´Ù‡Ø±)
3. **Enterprise License** - ØªØ±Ø®ÙŠØµ Ù…Ø¤Ø³Ø³ÙŠ (999 Ø±ÙŠØ§Ù„/Ø´Ù‡Ø±)
4. **Owner License** - ØªØ±Ø®ÙŠØµ Ø§Ù„Ù…Ø§Ù„Ùƒ (Ù…Ø¬Ø§Ù†ÙŠ)

### **âœ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ:**
- ØªØªØ¨Ø¹ ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ
- Ø±Ø³ÙˆÙ… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
- Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ¬Ø§ÙˆØ²
- Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø¹Ù…
- ÙÙˆØ§ØªÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ©

### **âœ… ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ:**
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ
- Ø¹Ø±Ø¶ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±
- Ø¥Ø¶Ø§ÙØ©/Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
- ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

---

## **ðŸ“Š Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©**

### **1. license_types - Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ**
```sql
- license_code: ÙƒÙˆØ¯ Ø§Ù„ØªØ±Ø®ÙŠØµ (BASIC, PROFESSIONAL, ENTERPRISE, OWNER)
- license_name: Ø§Ø³Ù… Ø§Ù„ØªØ±Ø®ÙŠØµ
- monthly_cost: Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©
- annual_cost: Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø³Ù†ÙˆÙŠØ©
- setup_fee: Ø±Ø³ÙˆÙ… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
- features: Ø§Ù„Ù…ÙŠØ²Ø§Øª (JSON)
- max_users: Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- max_storage_gb: Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ØªØ®Ø²ÙŠÙ†
- max_transactions_per_month: Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
```

### **2. user_licenses - ØªØ±Ø§Ø®ÙŠØµ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†**
```sql
- user_id: Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- tenant_id: Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ù…ÙŠÙ„
- license_type_id: Ù†ÙˆØ¹ Ø§Ù„ØªØ±Ø®ÙŠØµ
- license_key: Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ±Ø®ÙŠØµ Ø§Ù„ÙØ±ÙŠØ¯
- status: Ø§Ù„Ø­Ø§Ù„Ø© (active, suspended, expired, cancelled, trial)
- start_date: ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡
- end_date: ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
- billing_cycle: Ø¯ÙˆØ±Ø© Ø§Ù„ÙÙˆØªØ±Ø© (monthly, annual)
- is_owner: Ù‡Ù„ Ù‡Ùˆ Ù…Ø§Ù„Ùƒ
- current_users: Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ
- current_storage_gb: Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- current_transactions: Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
```

### **3. license_costs - ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ**
```sql
- user_license_id: Ù…Ø¹Ø±Ù Ø§Ù„ØªØ±Ø®ÙŠØµ
- tenant_id: Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ù…ÙŠÙ„
- cost_type: Ù†ÙˆØ¹ Ø§Ù„ØªÙƒÙ„ÙØ© (license_fee, setup_fee, overage_fee, support_fee)
- amount: Ø§Ù„Ù…Ø¨Ù„Øº
- billing_period_start: Ø¨Ø¯Ø§ÙŠØ© ÙØªØ±Ø© Ø§Ù„ÙÙˆØªØ±Ø©
- billing_period_end: Ù†Ù‡Ø§ÙŠØ© ÙØªØ±Ø© Ø§Ù„ÙÙˆØªØ±Ø©
- payment_status: Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹ (pending, paid, overdue, cancelled, refunded)
- invoice_number: Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©
```

### **4. owner_permissions - ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ**
```sql
- user_id: Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø§Ù„Ùƒ
- tenant_id: Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ù…ÙŠÙ„
- can_manage_licenses: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ
- can_view_costs: Ø¹Ø±Ø¶ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
- can_manage_billing: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±
- can_add_users: Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- can_assign_roles: ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
- max_users_can_add: Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- max_cost_approval_limit: Ø­Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
```

---

## **ðŸš€ Ø§Ù„ØªÙØ¹ÙŠÙ„**

### **ØªØ´ØºÙŠÙ„ Schema:**
```bash
psql -U postgres -d saudi_store -f database/schema/13-licensing-costs.sql
```

---

## **ðŸ’¼ Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…**

### **1. Ø¥Ù†Ø´Ø§Ø¡ ØªØ±Ø®ÙŠØµ Ù„Ù…Ø³ØªØ®Ø¯Ù…:**

```sql
-- Ø¥Ù†Ø´Ø§Ø¡ ØªØ±Ø®ÙŠØµ Ø§Ø­ØªØ±Ø§ÙÙŠ
INSERT INTO user_licenses (
    user_id,
    tenant_id,
    license_type_id,
    license_key,
    status,
    start_date,
    end_date,
    billing_cycle,
    is_owner
) VALUES (
    'user-uuid-here',
    'tenant-uuid-here',
    (SELECT id FROM license_types WHERE license_code = 'PROFESSIONAL'),
    generate_license_key('tenant-uuid-here', 'user-uuid-here'),
    'active',
    CURRENT_DATE,
    CURRENT_DATE + INTERVAL '1 year',
    'monthly',
    false
);
```

### **2. Ø¥Ù†Ø´Ø§Ø¡ ØªØ±Ø®ÙŠØµ Ù…Ø§Ù„Ùƒ:**

```sql
-- Ø¥Ù†Ø´Ø§Ø¡ ØªØ±Ø®ÙŠØµ Ù…Ø§Ù„Ùƒ (Ù…Ø¬Ø§Ù†ÙŠ)
INSERT INTO user_licenses (
    user_id,
    tenant_id,
    license_type_id,
    license_key,
    status,
    is_owner,
    billing_cycle
) VALUES (
    'owner-uuid-here',
    'tenant-uuid-here',
    (SELECT id FROM license_types WHERE license_code = 'OWNER'),
    generate_license_key('tenant-uuid-here', 'owner-uuid-here'),
    'active',
    true,
    'one-time'
);

-- Ø¥Ø¶Ø§ÙØ© ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ
INSERT INTO owner_permissions (
    user_id,
    tenant_id,
    can_manage_licenses,
    can_view_costs,
    can_manage_billing,
    can_add_users,
    can_remove_users,
    can_assign_roles,
    max_users_can_add,
    max_cost_approval_limit
) VALUES (
    'owner-uuid-here',
    'tenant-uuid-here',
    true,
    true,
    true,
    true,
    true,
    true,
    NULL,  -- unlimited
    NULL   -- unlimited
);
```

### **3. ØªØ³Ø¬ÙŠÙ„ ØªÙƒÙ„ÙØ© Ø´Ù‡Ø±ÙŠØ©:**

```sql
INSERT INTO license_costs (
    user_license_id,
    tenant_id,
    cost_type,
    amount,
    currency,
    billing_period_start,
    billing_period_end,
    payment_status,
    description,
    description_ar
) VALUES (
    'license-uuid-here',
    'tenant-uuid-here',
    'license_fee',
    299.00,
    'SAR',
    DATE_TRUNC('month', CURRENT_DATE),
    DATE_TRUNC('month', CURRENT_DATE) + INTERVAL '1 month' - INTERVAL '1 day',
    'pending',
    'Monthly Professional License Fee',
    'Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ±Ø®ÙŠØµ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©'
);
```

### **4. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ØªØ±Ø®ÙŠØµ:**

```sql
-- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ±Ø®ÙŠØµ Ù…Ø­Ø¯Ø¯
SELECT check_license_validity('license-uuid-here');

-- Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ Ø§Ù„Ù†Ø´Ø·Ø©
SELECT * FROM v_active_licenses
WHERE tenant_id = 'tenant-uuid-here';
```

### **5. Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©:**

```sql
-- Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ù„Ù„Ø¹Ù…ÙŠÙ„
SELECT calculate_monthly_cost('tenant-uuid-here');

-- Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
SELECT * FROM v_tenant_costs
WHERE tenant_id = 'tenant-uuid-here'
ORDER BY billing_month DESC;
```

### **6. ØªØ³Ø¬ÙŠÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ±Ø®ÙŠØµ:**

```sql
-- ØªØ³Ø¬ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø©
SELECT log_license_usage(
    'license-uuid-here',
    'transaction',
    1,
    '{"transaction_id": "txn-123", "amount": 5000}'::jsonb
);

-- ØªØ³Ø¬ÙŠÙ„ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
SELECT log_license_usage(
    'license-uuid-here',
    'login',
    1,
    '{"ip": "192.168.1.1", "device": "Chrome"}'::jsonb
);
```

---

## **ðŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª**

### **Ø¹Ø±Ø¶ Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ Ø§Ù„Ù†Ø´Ø·Ø©:**

```sql
SELECT 
    user_name,
    user_email,
    license_name,
    status,
    is_owner,
    start_date,
    end_date,
    monthly_cost,
    current_users,
    max_users
FROM v_active_licenses
WHERE tenant_id = 'tenant-uuid-here'
ORDER BY is_owner DESC, start_date DESC;
```

### **Ø¹Ø±Ø¶ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©:**

```sql
SELECT 
    billing_month,
    total_cost,
    paid_amount,
    pending_amount,
    overdue_amount
FROM v_tenant_costs
WHERE tenant_id = 'tenant-uuid-here'
ORDER BY billing_month DESC
LIMIT 12;
```

### **Ø¹Ø±Ø¶ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ±Ø®ÙŠØµ:**

```sql
SELECT 
    usage_type,
    COUNT(*) as usage_count,
    DATE(logged_at) as usage_date
FROM license_usage_logs
WHERE tenant_id = 'tenant-uuid-here'
    AND logged_at >= CURRENT_DATE - INTERVAL '30 days'
GROUP BY usage_type, DATE(logged_at)
ORDER BY usage_date DESC, usage_count DESC;
```

### **Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ Ø§Ù„Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡:**

```sql
SELECT 
    ul.license_key,
    u.full_name,
    u.email,
    lt.license_name,
    ul.end_date,
    ul.end_date - CURRENT_DATE as days_remaining
FROM user_licenses ul
JOIN platform_users u ON ul.user_id = u.id
JOIN license_types lt ON ul.license_type_id = lt.id
WHERE ul.tenant_id = 'tenant-uuid-here'
    AND ul.status = 'active'
    AND ul.end_date IS NOT NULL
    AND ul.end_date <= CURRENT_DATE + INTERVAL '30 days'
ORDER BY ul.end_date ASC;
```

---

## **ðŸ” RBAC - Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ÙˆØµÙˆÙ„**

### **ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ:**

```typescript
interface OwnerPermissions {
  can_manage_licenses: boolean;
  can_view_costs: boolean;
  can_manage_billing: boolean;
  can_add_users: boolean;
  can_remove_users: boolean;
  can_assign_roles: boolean;
  can_view_analytics: boolean;
  can_export_data: boolean;
  can_manage_integrations: boolean;
  can_configure_settings: boolean;
  max_users_can_add?: number;
  max_cost_approval_limit?: number;
}
```

### **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª:**

```sql
-- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø§Ù„Ùƒ
SELECT 
    can_manage_licenses,
    can_view_costs,
    can_add_users,
    max_users_can_add,
    max_cost_approval_limit
FROM owner_permissions
WHERE user_id = 'owner-uuid-here'
    AND tenant_id = 'tenant-uuid-here';
```

---

## **ðŸ’° Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±**

### **1. Basic License - ØªØ±Ø®ÙŠØµ Ø£Ø³Ø§Ø³ÙŠ**
- **Ø§Ù„Ø³Ø¹Ø±:** 99 Ø±ÙŠØ§Ù„/Ø´Ù‡Ø± Ø£Ùˆ 990 Ø±ÙŠØ§Ù„/Ø³Ù†Ø©
- **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†:** Ø­ØªÙ‰ 5 Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- **Ø§Ù„ØªØ®Ø²ÙŠÙ†:** 10 GB
- **Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª:** 1,000 Ù…Ø¹Ø§Ù…Ù„Ø©/Ø´Ù‡Ø±
- **Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
  - Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©
  - ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø³Ø§Ø³ÙŠØ©
  - Ø¯Ø¹Ù… Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
- **ØªØ¬Ø±Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ©:** 14 ÙŠÙˆÙ…

### **2. Professional License - ØªØ±Ø®ÙŠØµ Ø§Ø­ØªØ±Ø§ÙÙŠ**
- **Ø§Ù„Ø³Ø¹Ø±:** 299 Ø±ÙŠØ§Ù„/Ø´Ù‡Ø± Ø£Ùˆ 2,990 Ø±ÙŠØ§Ù„/Ø³Ù†Ø©
- **Ø±Ø³ÙˆÙ… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯:** 500 Ø±ÙŠØ§Ù„ (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)
- **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†:** Ø­ØªÙ‰ 25 Ù…Ø³ØªØ®Ø¯Ù…
- **Ø§Ù„ØªØ®Ø²ÙŠÙ†:** 100 GB
- **Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª:** 10,000 Ù…Ø¹Ø§Ù…Ù„Ø©/Ø´Ù‡Ø±
- **Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
  - Ù„ÙˆØ­Ø© Ù‚ÙŠØ§Ø¯Ø© ÙƒØ§Ù…Ù„Ø©
  - ØªÙ‚Ø§Ø±ÙŠØ± Ù…ØªÙ‚Ø¯Ù…Ø©
  - Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù€ API
  - Ø¯Ø¹Ù… Ø°Ùˆ Ø£ÙˆÙ„ÙˆÙŠØ©
  - Ø³ÙŠØ± Ø¹Ù…Ù„ Ù…Ø®ØµØµ
- **ØªØ¬Ø±Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ©:** 30 ÙŠÙˆÙ…

### **3. Enterprise License - ØªØ±Ø®ÙŠØµ Ù…Ø¤Ø³Ø³ÙŠ**
- **Ø§Ù„Ø³Ø¹Ø±:** 999 Ø±ÙŠØ§Ù„/Ø´Ù‡Ø± Ø£Ùˆ 9,990 Ø±ÙŠØ§Ù„/Ø³Ù†Ø©
- **Ø±Ø³ÙˆÙ… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯:** 2,000 Ø±ÙŠØ§Ù„ (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)
- **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†:** ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯
- **Ø§Ù„ØªØ®Ø²ÙŠÙ†:** ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯
- **Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª:** ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯
- **Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
  - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª
  - White Label
  - Ø¯Ø¹Ù… Ù…Ø®ØµØµ
  - ØªØ·ÙˆÙŠØ± Ù…Ø®ØµØµ
  - Ø¶Ù…Ø§Ù† SLA

### **4. Owner License - ØªØ±Ø®ÙŠØµ Ø§Ù„Ù…Ø§Ù„Ùƒ**
- **Ø§Ù„Ø³Ø¹Ø±:** Ù…Ø¬Ø§Ù†ÙŠ
- **Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
  - ÙˆØµÙˆÙ„ ÙƒØ§Ù…Ù„
  - Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
  - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
  - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
  - Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ÙÙˆØ§ØªÙŠØ±

---

## **ðŸ”„ Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„ØªØ±Ø®ÙŠØµ**

```
1. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ±Ø®ÙŠØµ (Create)
   â†“
2. ØªÙØ¹ÙŠÙ„ (Active/Trial)
   â†“
3. Ø§Ø³ØªØ®Ø¯Ø§Ù… (Usage Tracking)
   â†“
4. ØªØ¬Ø¯ÙŠØ¯ (Renewal) Ø£Ùˆ
5. Ø¥ÙŠÙ‚Ø§Ù (Suspended) Ø£Ùˆ
6. Ø§Ù†ØªÙ‡Ø§Ø¡ (Expired) Ø£Ùˆ
7. Ø¥Ù„ØºØ§Ø¡ (Cancelled)
```

---

## **ðŸ“§ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ©**

### **Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ù‚ØªØ±Ø­Ø©:**

1. **Ù‚Ø¨Ù„ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ±Ø®ÙŠØµ (30 ÙŠÙˆÙ…)**
2. **Ù‚Ø¨Ù„ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ±Ø®ÙŠØµ (7 Ø£ÙŠØ§Ù…)**
3. **Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ±Ø®ÙŠØµ**
4. **ØªØ¬Ø§ÙˆØ² Ø­Ø¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… (80%)**
5. **ØªØ¬Ø§ÙˆØ² Ø­Ø¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… (100%)**
6. **ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©**
7. **Ø¯ÙØ¹ Ù†Ø§Ø¬Ø­**
8. **Ø¯ÙØ¹ ÙØ§Ø´Ù„**

---

## **âœ… Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ­Ù‚Ù‚**

- [ ] Schema ØªÙ… ØªØ´ØºÙŠÙ„Ù‡
- [ ] Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ Ù…ÙˆØ¬ÙˆØ¯Ø© (4 Ø£Ù†ÙˆØ§Ø¹)
- [ ] Functions ØªØ¹Ù…Ù„
- [ ] Views Ù…Ù†Ø´Ø£Ø©
- [ ] Triggers Ù†Ø´Ø·Ø©
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ØªØ±Ø®ÙŠØµ Ù†Ø¬Ø­
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù†Ø¬Ø­
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙƒÙ„ÙØ© Ù†Ø¬Ø­

---

**ðŸŽ‰ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ±Ø®ÙŠØµ ÙˆØ§Ù„ØªÙƒØ§Ù„ÙŠÙ Ø¬Ø§Ù‡Ø²!**

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
âœ… 4 Ø£Ù†ÙˆØ§Ø¹ ØªØ±Ø§Ø®ÙŠØµ  
âœ… ØªØªØ¨Ø¹ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ  
âœ… ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ  
âœ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…  
âœ… ÙÙˆØ§ØªÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ©  
âœ… ØªÙ‚Ø§Ø±ÙŠØ± Ø´Ø§Ù…Ù„Ø©  
âœ… Multi-tenant  

**Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†:**
```bash
psql -U postgres -d saudi_store -f database/schema/13-licensing-costs.sql
```

**ðŸš€ Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ - Saudi Store**
